(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{1289:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/allUsers",function(){return t(6664)}])},6664:function(e,n,t){"use strict";t.r(n);var r=t(4051),s=t.n(r),i=t(5893),a=t(9669),l=t.n(a),c=t(7294);function o(e,n,t,r,s,i,a){try{var l=e[i](a),c=l.value}catch(o){return void t(o)}l.done?n(c):Promise.resolve(c).then(r,s)}n.default=function(){var e=(0,c.useState)(),n=e[0],t=e[1],r=function(){var e,n=(e=s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={userId:n},e.next=3,l().delete("/api/user/deleteuser",{withCredentials:!0,data:r}).then((function(e){t(e.data.data)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function a(e){o(i,r,s,a,l,"next",e)}function l(e){o(i,r,s,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,c.useEffect)((function(){n||l().get("/api/user/all",{withCredentials:!0}).then((function(e){return t(e.data.data)})).catch((function(e){return console.log(e)}))}),[]),(0,i.jsxs)("div",{className:"page-container",children:[(0,i.jsx)("h1",{children:"All Users"}),(0,i.jsx)("div",{className:"body",children:(0,i.jsx)("div",{className:"allusers-container",children:n&&n.map((function(e){return(0,i.jsxs)("div",{className:"user-card",children:[(0,i.jsx)("h4",{className:"user-title",children:e.fullName}),(0,i.jsx)("div",{className:"user-section",children:(0,i.jsx)("h4",{children:e.email})}),(0,i.jsxs)("div",{className:"user-section",children:[(0,i.jsxs)("div",{className:"control",children:[(0,i.jsx)("h4",{children:"is Developer"}),e&&"admin"!==e.fullName&&(0,i.jsx)("select",{name:"isDeveloper",onChange:function(n){return function(e,n){var t=e.target.value;l().patch("/api/user/isDeveloper",{isDeveloper:t,id:n},{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}(n,e._id)},children:e&&e.isDeveloper?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{selected:!0,value:"true",children:"true"}),(0,i.jsx)("option",{value:"false",children:"false"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"true",children:"true"}),(0,i.jsx)("option",{selected:!0,value:"false",children:"false"})]})})]}),(0,i.jsxs)("div",{className:"control",children:[(0,i.jsx)("h4",{children:"is admin"}),"admin"!=e.fullName?(0,i.jsx)("select",{onChange:function(n){return function(e,n){var t=e.target.value;l().patch("/api/user/isadmin",{isAdmin:t,id:n},{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}(n,e._id)},name:"isAdmin",children:e&&e.isAdmin?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{selected:!0,value:"true",children:"true"}),(0,i.jsx)("option",{value:"false",children:"false"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"true",children:"true"}),(0,i.jsx)("option",{selected:!0,value:"false",children:"false"})]})}):"",(0,i.jsx)("button",{onClick:function(){return r(e._id)},className:"btn",children:"Delete User"})]})]})]},e._id)}))})})]})}}},function(e){e.O(0,[774,888,179],(function(){return n=1289,e(e.s=n);var n}));var n=e.O();_N_E=n}]);